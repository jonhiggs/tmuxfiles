#!/bin/bash
for src in $(dirname $_)/../lib/* $(dirname $_)/../etc/*; do
  source $src
done

function int_to_float() {
  printf "%2.0f" $1
}

function help() {
  echo "OPTIONS:"
  echo "  --left"
  echo "  --right"
  exit 1
}

function left() {
  echo -n "left"
}

function right() {
  echo -n "${CPU_SYMBOL} $(int_to_float $(cpu_used))%  "
  echo -n " ${MEMORY_SYMBOL} $(int_to_float $(memory_used))% "
  echo -n " $(battery_symbol) $(int_to_float $(battery_charge))% "
}

[[ $# -eq 0 ]] && help

case $1 in
  "--left")  left  ;;
  "--right") right ;;
  *)         help  ;;
esac

echo
